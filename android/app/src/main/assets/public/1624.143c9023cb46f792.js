"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1624],{1624:(P,E,s)=>{s.r(E),s.d(E,{HomePage:()=>_});var D=s(467),d=s(9893),p=s(2200),R=s(4341),t=s(3664),g=s(8490),N=s(9731);function y(e,n){if(1&e&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",5),t.j41(2,"ion-label")(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.k0s()()()),2&e){const a=n.$implicit;t.R7$(),t.Y8G("name","Birthday"===a.type?"gift-outline":"sparkles-outline")("color","Birthday"===a.type?"success":"tertiary"),t.R7$(3),t.JRh(a.title),t.R7$(2),t.JRh(a.type)}}function l(e,n){if(1&e&&(t.j41(0,"div")(1,"ion-list-header")(2,"ion-label"),t.EFF(3,"Today's Reminders"),t.k0s()(),t.j41(4,"ion-list",3),t.DNE(5,y,7,4,"ion-item",4),t.k0s()()),2&e){const a=t.XpG();t.R7$(4),t.Y8G("inset",!0),t.R7$(),t.Y8G("ngForOf",a.todaysReminders)}}function F(e,n){if(1&e&&(t.j41(0,"ion-item"),t.nrm(1,"ion-icon",5),t.j41(2,"ion-label")(3,"h2"),t.EFF(4),t.k0s(),t.j41(5,"p"),t.EFF(6),t.nI1(7,"date"),t.k0s()()()),2&e){const a=n.$implicit;t.R7$(),t.Y8G("name","Birthday"===a.type?"gift-outline":"sparkles-outline")("color","Birthday"===a.type?"success":"tertiary"),t.R7$(3),t.JRh(a.title),t.R7$(2),t.JRh(t.i5U(7,4,a.date,"EEEE, MMM d"))}}function o(e,n){if(1&e&&(t.j41(0,"div")(1,"ion-list-header")(2,"ion-label"),t.EFF(3,"Upcoming in the Next 7 Days"),t.k0s()(),t.j41(4,"ion-list",3),t.DNE(5,F,8,7,"ion-item",4),t.k0s()()),2&e){const a=t.XpG();t.R7$(4),t.Y8G("inset",!0),t.R7$(),t.Y8G("ngForOf",a.upcomingReminders)}}function r(e,n){if(1&e&&(t.j41(0,"ion-item")(1,"ion-label"),t.EFF(2),t.k0s()()),2&e){const a=n.$implicit;t.R7$(2),t.JRh(a)}}function f(e,n){if(1&e&&(t.j41(0,"div")(1,"ion-list-header")(2,"ion-label"),t.EFF(3,"Today's Name Days (Hungary)"),t.k0s()(),t.j41(4,"ion-list",3),t.DNE(5,r,3,1,"ion-item",4),t.k0s()()),2&e){const a=t.XpG();t.R7$(4),t.Y8G("inset",!0),t.R7$(),t.Y8G("ngForOf",a.todaysNameDays)}}let _=(()=>{var e;class n{constructor(m,c){this.dataService=m,this.nameDayService=c,this.today=new Date,this.todaysReminders=[],this.upcomingReminders=[],this.todaysNameDays=[]}ionViewWillEnter(){this.loadDashboardData()}loadDashboardData(){var m=this;return(0,D.A)(function*(){const c=yield m.dataService.getContacts(),i=yield m.nameDayService.getAllNameDays();m.processTodaysReminders(c),m.processUpcomingReminders(c),m.processTodaysNameDays(i)})()}processTodaysReminders(m){const c=this.today.toDateString(),i=[];m.forEach(u=>{u.birthday&&new Date(u.birthday).toDateString()===c&&i.push({title:`${u.firstName} ${u.lastName||""}`,type:"Birthday",date:new Date(u.birthday)}),u.nameDays.forEach(h=>{new Date(h.date).toDateString()===c&&i.push({title:`${u.firstName} ${u.lastName||""}`,type:"Name Day",date:new Date(h.date)})})}),this.todaysReminders=i}processUpcomingReminders(m){const c=new Date(this.today);c.setDate(this.today.getDate()+1),c.setHours(0,0,0,0);const i=new Date(this.today);i.setDate(this.today.getDate()+7),i.setHours(23,59,59,999);const u=[];m.forEach(h=>{if(h.birthday){const v=new Date(h.birthday);v>=c&&v<=i&&u.push({title:`${h.firstName} ${h.lastName||""}`,type:"Birthday",date:v})}h.nameDays.forEach(v=>{const M=new Date(v.date);M>=c&&M<=i&&u.push({title:`${h.firstName} ${h.lastName||""}`,type:"Name Day",date:M})})}),this.upcomingReminders=u.sort((h,v)=>h.date.getTime()-v.date.getTime())}processTodaysNameDays(m){const c=this.today.toDateString();this.todaysNameDays=m.filter(i=>new Date(i.date).toDateString()===c).map(i=>i.name)}static#t=e=()=>(this.\u0275fac=function(c){return new(c||n)(t.rXU(g.u),t.rXU(N.Z))},this.\u0275cmp=t.VBU({type:n,selectors:[["app-home"]],decls:16,vars:12,consts:[[1,"ion-padding",3,"fullscreen"],[1,"today-card"],[4,"ngIf"],[3,"inset"],[4,"ngFor","ngForOf"],["slot","start",3,"name","color"]],template:function(c,i){1&c&&(t.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t.EFF(3,"Home"),t.k0s()()(),t.j41(4,"ion-content",0)(5,"ion-card",1)(6,"ion-card-header")(7,"ion-card-subtitle"),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"ion-card-title"),t.EFF(11),t.nI1(12,"date"),t.k0s()()(),t.DNE(13,l,6,2,"div",2)(14,o,6,2,"div",2)(15,f,6,2,"div",2),t.k0s()),2&c&&(t.R7$(4),t.Y8G("fullscreen",!0),t.R7$(4),t.JRh(t.i5U(9,6,i.today,"EEEE")),t.R7$(3),t.JRh(t.i5U(12,9,i.today,"MMMM d, y")),t.R7$(2),t.Y8G("ngIf",i.todaysReminders.length>0),t.R7$(),t.Y8G("ngIf",i.upcomingReminders.length>0),t.R7$(),t.Y8G("ngIf",i.todaysNameDays.length>0))},dependencies:[d.bv,d.b_,d.ME,d.HW,d.tN,d.W9,d.eU,d.iq,d.uz,d.he,d.nf,d.AF,d.BC,d.ai,p.MD,p.Sq,p.bT,R.YN,p.vh],styles:["ion-list-header[_ngcontent-%COMP%]{font-weight:700}ion-list[_ngcontent-%COMP%]{margin-bottom:1.5rem}.today-card[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center;--background: var(--ion-color-primary);--color: var(--ion-color-primary-contrast)}.today-card[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-primary-contrast);opacity:.8}"]}))}return e(),n})()},8490:(P,E,s)=>{s.d(E,{u:()=>R});var D=s(467),d=s(2615),p=s(7291);let R=(()=>{var t;class g{constructor(y){this.storageService=y}getContacts(){var y=this;return(0,D.A)(function*(){return y.storageService.getContacts()})()}addContact(y){var l=this;return(0,D.A)(function*(){return l.storageService.addContact(y)})()}updateContact(y){var l=this;return(0,D.A)(function*(){return l.storageService.updateContact(y)})()}deleteContact(y){var l=this;return(0,D.A)(function*(){return l.storageService.deleteContact(y)})()}static#t=t=()=>(this.\u0275fac=function(l){return new(l||g)(d.KVO(p.n))},this.\u0275prov=d.jDH({token:g,factory:g.\u0275fac,providedIn:"root"}))}return t(),g})()},9731:(P,E,s)=>{s.d(E,{Z:()=>N});var D=s(467),d=s(9350),p=s(7707),t=s(2615),g=s(9330);let N=(()=>{var y;class l{constructor(o){this.http=o,this.nameDayData=null,this.flatNameDayList=[],this.loadNameDays()}normalizeString(o){return o.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}loadNameDays(){var o=this;return(0,D.A)(function*(){try{o.nameDayData=yield function R(y,l){const F="object"==typeof l;return new Promise((o,r)=>{const f=new p.Ms({next:_=>{o(_),f.unsubscribe()},error:r,complete:()=>{F?o(l.defaultValue):r(new d.G)}});y.subscribe(f)})}(o.http.get("assets/namedays/namedays.json")),o.prepareFlatList()}catch(r){console.error("Error loading name day data:",r)}})()}prepareFlatList(){if(!this.nameDayData)return;this.flatNameDayList=[];const o=(new Date).getFullYear(),r={January:0,February:1,March:2,April:3,May:4,June:5,July:6,August:7,September:8,October:9,November:10,December:11};for(const f in this.nameDayData){const _=r[f];if(void 0===_)continue;const e=this.nameDayData[f];for(const n in e){const a=e[n];for(const m in a)a[m].forEach(i=>{const u=new Date(o,_,parseInt(n,10));this.flatNameDayList.push({name:i,normalizedName:this.normalizeString(i),date:u.toISOString(),tradition:m})})}}}findDatesForName(o){var r=this;return(0,D.A)(function*(f,_="Hungary"){0===r.flatNameDayList.length&&(yield r.loadNameDays());const e=r.normalizeString(f);return r.flatNameDayList.filter(n=>n.normalizedName===e&&n.tradition===_).map(n=>n.date)}).apply(this,arguments)}getAutocompleteSuggestions(o){var r=this;return(0,D.A)(function*(f,_="Hungary"){0===r.flatNameDayList.length&&(yield r.loadNameDays());const e=r.normalizeString(f);if(!e)return[];const n=r.flatNameDayList.filter(a=>a.normalizedName.startsWith(e)&&a.tradition===_).map(a=>a.name);return[...new Set(n)]}).apply(this,arguments)}getAllNameDays(){var o=this;return(0,D.A)(function*(){return 0===o.flatNameDayList.length&&(yield o.loadNameDays()),o.flatNameDayList})()}static#t=y=()=>(this.\u0275fac=function(r){return new(r||l)(t.KVO(g.Qq))},this.\u0275prov=t.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}))}return y(),l})()}}]);